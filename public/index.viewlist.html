<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="../style.styl" />
</head>
<body>
<div id="userView">#userView</div>

<script src="underscore.js"></script>
<script src="messageformat.js"></script>
<script src="../src/fmvc/event.js"></script>
<script src="../src/fmvc/facade.js"></script>
<script src="../src/fmvc/notifier.js"></script>
<script src="../src/fmvc/event.dispatcher.js"></script>
<script src="../src/fmvc/mediator.js"></script>
<script src="../src/fmvc/model.js"></script>
<script src="../src/fmvc/model.list.js"></script>
<script src="../src/fmvc/view.js"></script>
<script src="../src/fmvc/view.list.js"></script>
<script src="../src/ui/Button.js"></script>
<script src="../src/ui/UserView.js"></script>
<script>

    var items = [];
    var data = [
        {firstname: 'Vasya', secondname: 'Timofeev', age: 33, value: 100}
    ];
    var str = '';

    _.each(_.range(0,1000), function(value) {
        data = data.concat([{firstname: 'User ' + value , secondname: 'Second', age: 20 + value, value: value}]);
        str += '<div class="userview userview-disabled" style="background-color: blue;"><div>' + 'User view ' + value + '</div><div>' + value + '</div><div>' + 20 + value + '</div></div>';
    });

    //alert(data.length);

    var start = Date.now();


    var listView = new fmvc.ViewList('userview.list');
    listView.enableStates(['disabled']);
    listView.childrenConstructor = ui.UserView;
    listView.dataset = data;
    //listView.setState('selected', true);
    //listView.setState('disabled', true);
    listView.render(document.getElementById('userView'));

    console.log('summary', Date.now() - start);




    /*
    var d = document.getElementById('userView');
    d.innerHTML = str;
    */

    //alert(Date.now() - start);
</script>


</body>
</html>